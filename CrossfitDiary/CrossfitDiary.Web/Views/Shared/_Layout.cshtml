@using CrossfitDiary.Web.MvcHelpers
@using Links
@using Scripts = System.Web.Optimization.Scripts
@{
    string currentVersion = string.Format("{0}.{1}.{2}", ViewContext.Controller.GetType().Assembly.GetName().Version.Major, ViewContext.Controller.GetType().Assembly.GetName().Version.Minor, ViewContext.Controller.GetType().Assembly.GetName().Version.Build);
}
<!DOCTYPE html>
<html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-35949393-2"></script>
    <script>

        var host = window.location.hostname;
        if (host !== "localhost") {
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());

            gtag('config', 'UA-35949393-2');
        }
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="shortcut icon" type="image/png" href="@Url.Content(Content.favicon_ico)" />

    <title>@ViewBag.Title</title>
    @Scripts.Render("~/bundles/font-awesome")
    @RenderSection("styles", required: true)
</head>
<body>
    <header>
        <nav class="navbar navbar-expand navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand text-secondary" href="@Url.Action(MVC.Persons.ActionNames.Index, MVC.Persons.Name)">
                    <i class="fa fa-home" aria-hidden="true"></i> Workouter v@(currentVersion)
                </a>

                <div class="navbar-collapse" id="navBar">
                    <ul class="navbar-nav mr-auto">
                        @if (Html.IsSelected(MVC.Persons.Name, MVC.Persons.ActionNames.Index)) { 
                            <li class="nav-item mr-1 ">
                                <a class="nav-link btn btn-info text-light" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                                    <i class="fas fa-flag-checkered"></i>
                                    <span class="d-none d-md-inline">Weight maximums</span>
                                </a>
                            </li>
                        }


                        <li class="nav-item mr-1 @Html.SelectActivePage(MVC.Crossfitter.Name, MVC.Crossfitter.ActionNames.ManageWorkout)">
                            <a class="nav-link btn btn-success text-light" href="@Url.Action(MVC.Crossfitter.ActionNames.ManageWorkout, MVC.Crossfitter.Name)">
                                <i class="fa fa-rocket" aria-hidden="true"></i>
                                <span class="d-none d-md-inline">Create/Log workout</span>
                            </a>
                        </li>
                        <li class="nav-item mr-1  @Html.SelectActivePage(MVC.Crossfitter.Name, MVC.Crossfitter.ActionNames.Pride)">
                            <a class="nav-link btn btn-warning text-light" href="@Url.Action(MVC.Crossfitter.ActionNames.Pride, MVC.Crossfitter.Name)">
                                <i class="fa fa-calculator" aria-hidden="true"></i>
                                <span class="d-none d-md-inline">Our prides</span>
                            </a>

                        </li>
                    </ul>
                    <form class="form-inline my-2 my-lg-0 d-none d-lg-inline">
                        <span class="navbar-text mr-lg-2 ">
                            @User.Identity.Name
                        </span>
                        <a class="btn btn-outline-primary " href="@Url.Action(MVC.Account.ActionNames.LogOut, MVC.Account.Name)">
                            <i class="fas fa-sign-out-alt"></i>
                            <span class="d-none d-lg-inline">Log Out</span>
                        </a>
                    </form>

                </div>
            </div>
        </nav>

    </header>
    <main role="main" class="container">
        <!--ko if:errorMessager.hasMessage -->
        <div class="alert alert-danger errors-container" role="alert" data-bind="visible:true" style="display: none">
            <span data-bind="text: errorMessager.message"></span>
        </div>
        <!-- /ko -->
        @RenderBody()
    </main>


    @Html.Partial(MVC.Shared.Views.ViewNames._ModalTemplate)


    @RenderSection("scripts", required: false)
</body>
</html>